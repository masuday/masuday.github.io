<!DOCTYPE html>
<!--==============================================================================
	           "GitHub HTML5 Pandoc Template" v1.2 — by Tristano Ajmone
	==============================================================================
	(c) Tristano Ajmone, 2017, MIT License (MIT). Project's home repository:

	- https://github.com/tajmone/pandoc-goodies

	This template reuses source code taken from the following projects:

	- GitHub Markdown CSS: © Sindre Sorhus, MIT License (MIT):
	  https://github.com/sindresorhus/github-markdown-css

	- Primer CSS: © 2016 GitHub Inc., MIT License (MIT):
	  http://primercss.io/
	==============================================================================-->
<html>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Yutaka Masuda" />
  <title>Variables</title>
  <style type="text/css">@font-face{font-family:octicons-link;src:url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM+8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB/aFGpk3jaTY6xa8JAGMW/O62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v+k/0an2i+itHDw3v2+9+DBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3/I7AtxEJLtzzuZfI+VVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy/Lt7Kc+0vWY/gAgIIEqAN9we0pwKXreiMasxvabDQMM4riO+qxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw+ymhce7vwM9jSqO8JyVd5RH9gyTt2+J/yUmYlIR0s04n6+7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv/ocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi+W2+MjCzMIDApSwvXzC97Z4Ig8N/BxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh/8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT+AEjAwuDFpBmA9KMDEwMCh9i/v8H8sH0/4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9/lqYwOGZxeUelN2U2R6+cArgtCJpauW7UQBqnFkUsjAY/kOU1cP+DAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl+vvmM/byA48e6tWrKArm4ZJlCbdsrxksL1AwWn/yBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO//sdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd/89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF+9JOS0nbaaYDCQfwCJ7Au3AHj+LO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm+EBXuAbHmIMSRMs+4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL+hD7C1xoaHeLJSEao0FEW14ckxC+TU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13/+lm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl+9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O/AdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB///AA8AAQAAAAAAAAAAAAAAAAABAAAAAA==) format('woff')}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:16px;line-height:1.5;word-wrap:break-word;box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto;padding:45px}.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body a{background-color:transparent;-webkit-text-decoration-skip:objects;color:#0366d6;text-decoration:none}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body h1{margin:.67em 0}.markdown-body img{border-style:none}.markdown-body svg:not(:root){overflow:hidden}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace}.markdown-body input{font:inherit;margin:0;overflow:visible;font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{box-sizing:content-box;overflow:hidden;background:0 0;border-bottom:1px solid #dfe2e5}.markdown-body hr::before{display:table;content:""}.markdown-body hr::after{display:table;clear:both;content:""}.markdown-body table{border-spacing:0;border-collapse:collapse;display:block;width:100%;overflow:auto}.markdown-body td,.markdown-body th{padding:0}.markdown-body blockquote{margin:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code{font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace}.markdown-body pre{font:12px SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;word-wrap:normal}.markdown-body .pl-0{padding-left:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body::before{display:table;content:""}.markdown-body::after{display:table;clear:both;content:""}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:0}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e1e4e8;border:0}.markdown-body blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd{font-size:11px;box-shadow:inset 0 -1px 0 #959da5}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1{padding-bottom:.3em;font-size:2em;border-bottom:1px solid #eaecef}.markdown-body h2{padding-bottom:.3em;font-size:1.5em;border-bottom:1px solid #eaecef}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#6a737d}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #dfe2e5}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fcfcfc;border:1px solid #c6cbd1;border-bottom-color:#959da5;border-radius:3px;box-shadow:inset 0 -1px 0 #959da5}.markdown-body :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}.markdown-body hr{border-bottom-color:#eee}.flash{position:relative;padding:16px;color:#246;background-color:#e2eef9;border:1px solid #bac6d3;border-radius:3px}.flash p:last-child{margin-bottom:0}.flash-messages{margin-bottom:24px}.flash-warn{color:#4c4a42;background-color:#fff9ea;border-color:#dfd8c2}.flash-error{color:#911;background-color:#fcdede;border-color:#d2b2b2}.flash-success{color:#22662c;background-color:#e2f9e5;border-color:#bad3be}.flash-plain{color:#4c4a42;background-color:#f5f5f5;border-color:#c1c1c1}</style>
  <style type="text/css">:not(pre) > code{white-space: pre; background-color: #faf7f5;}</style>
  <style type="text/css">pre[data-language='renumf90']{background-color:#EFEFFE;}</style>
  <style type="text/css">pre[data-language='Fortran']{background-color:#E7FFE7;}</style>
  <style type="text/css">pre[data-language='output']{background-color:#FFFFFF;border:thin solid black;}</style>
  <style type="text/css">pre[data-language='shell']{background-color:#FFFFFF;border:thin dashed;}</style>
  <style type="text/css">pre[data-caption]::before{content:attr(data-caption) "\a\a";font-size:large;font-weight:bold;border-bottom:thin solid black}</style>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="prism.css">
  <script type="text/javascript" src="prism.js"></script>
</head>
</head>
<body>
<article class="markdown-body">
<header>
<h1 class="title">Variables</h1>
<p class="author">Yutaka Masuda</p>
<p class="date">January 2020</p>
</header>
<nav id="TOC">
<ul>
<li><a href="#variables">Variables</a>
<ul>
<li><a href="#variable-basics">Variable Basics</a></li>
<li><a href="#some-details-of-variables">Some details of variables</a></li>
</ul></li>
</ul>
</nav>
<p>
Back to <a href="./index.html">index.html</a>.
</p>
<h1 id="variables">Variables</h1>
<h2 id="variable-basics">Variable Basics</h2>
<p>A <em>variable</em> is storage, which holds value in memory. Once you put a value to the variable, the program holds it until the program unit ends. You can update (rewrite) the variable with a new value. In Fortran, a variable has a couple of limitations compared with other casual languages.</p>
<ul>
<li>A variable should be declared before using it at the top of the program.</li>
<li>A variable holds only a particular data-type.</li>
</ul>
<p>The strictly-typed variable is helpful to write a strict program in numerical computing. First, we are looking at how to declare variables with a particular type.</p>
<h3 id="declaration-of-variables">Declaration of variables</h3>
<h4 id="sample-program">Sample program</h4>
<p>See the following example to find the usage of variables.</p>
<pre data-language="Fortran"><code class="language-fortran">program var
   implicit none
   integer :: a,b
   a = 10
   b = 20
   print *,a+b
end program var</code></pre>
<pre data-language="output"><code>          30</code></pre>
<p>The program <em>declares</em> two integer variable <code>a</code> and <code>b</code>, assigns values to the variables, and print the sum of the values. We can learn a lesson from this small example.</p>
<ul>
<li>A variable has a type.</li>
<li>The variables should be declared at the beginning of a program unit.</li>
<li>The statement <code>implicit none</code> tells the compiler that all variables will be declared.</li>
<li>You can define multiple variables separated with <code>,</code> in the same declaration.</li>
<li>A value is assigned to a variable using <code>=</code>.</li>
<li>The variables can be used as literals.</li>
</ul>
<p>The variable can be re-used (updated) to hold another value.</p>
<pre data-language="Fortran"><code class="language-fortran">program var
   implicit none
   integer :: a,b
   a = 10
   b = 20
   print *,a+b   ! 10 + 20
   b = 35
   print *,a+b   ! 10 + 35
end program var</code></pre>
<pre data-language="output"><code>         30
         45</code></pre>
<p>Note that, when a variable is declared, its value is undefined. Any variables are not automatically initialized with a particular value. It is your responsibility to assigns a value to the variable before using it.</p>
<h4 id="declaration">Declaration</h4>
<p>The general form of a variable declaration is as follows.</p>
<pre data-language="definition"><code class="language-fortran">implicit none
variable_type :: variable1, variable2, ...</code></pre>
<p>Using <code>implicit none</code>, the compiler tells you if there are undeclared variables. The following variable types are available.</p>
<table>
<thead>
<tr class="header">
<th>Type</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>integer</code></td>
<td>integer (default = 4byte, 32bit)</td>
</tr>
<tr class="even">
<td><code>real</code></td>
<td>real, single precision</td>
</tr>
<tr class="odd">
<td><code>real(8)</code></td>
<td>real, double precision (see below)</td>
</tr>
<tr class="even">
<td><code>double precision</code></td>
<td>real, double precision</td>
</tr>
<tr class="odd">
<td><code>logical</code></td>
<td>logical value</td>
</tr>
<tr class="even">
<td><code>character</code></td>
<td>a character</td>
</tr>
<tr class="odd">
<td><code>character(len=n)</code></td>
<td>characters with the length <span class="math inline">\(n\)</span></td>
</tr>
</tbody>
</table>
<p>There are two ways to declare double-precision variables. The magic number <code>8</code> is corresponding a precision code, introduced in the previous chapter as <code>real(r,kind=8)</code>. This <code>8</code> is the <em>de facto</em> standard but is may not be portable (that is, some compilers should fail or misinterpret it). For portable (safer) programs, you have to use <code>selected_real_kind</code>, or use <code>real64</code> in a built-in module <code>iso_fortran_env</code>. See the following example.</p>
<pre data-language="Fortran"><code class="language-fortran">! Four ways to declare double-precision variables.
program var
   use iso_fortran_env     ! the use statement comes the first
   implicit none
   real(8) :: variance
   double precision :: sex_ratio
   real(selected_real_kind(15,307)) :: average
   real(real64) :: ebv
end program  var</code></pre>
<h4 id="naming-rules">Naming rules</h4>
<p>There are several rules in the variable names.</p>
<ul>
<li>The name should start with one of the alphabets.</li>
<li>The name can contain alphabets, numbers, and <code>_</code>. No other characters are not allowed as the variable name.</li>
<li>The maximum length of the variable name is 63 in Fortran 2003 (31 in Fortran 90).</li>
<li>The name is not case-sensitive.</li>
</ul>
<p>The variable name is just a label. Even if you use lengthy variable names, the performance of the program never changes.</p>
<h4 id="assignment-or-update-operator">Assignment or update operator</h4>
<p>A value is assigned to the variable using <code>=</code>. This symbol does not mean the mathematical equivalence between the left-hand side and the right-hand side. It is an operator to update the variable with the new value like mathematically, <span class="math inline">\(x\leftarrow v\)</span> where <span class="math inline">\(x\)</span> is a variable, and <span class="math inline">\(v\)</span> is a value.</p>
<p>The following example has the assignment for various variables.</p>
<pre data-language="Fortran"><code class="language-fortran">program var
   implicit none
   real :: a
   integer :: b
   logical :: c
   character :: d
   character(len=10) :: e
   a = 3.14
   b = 12345
   c = (10&gt;=5)
   d = &quot;x&quot;
   e = &quot;blup&quot;
   print *,a,b,c,d,e
end program  var</code></pre>
<pre data-language="output"><code>   3.14000010           12345 T xblup</code></pre>
<p>There is a typical form to update a numerical variable. See the following code and predict what it is doing.</p>
<pre data-language="Fortran"><code class="language-fortran">program var
   implicit none
   integer :: i
   i = 1
   print *,i

   i = i + 1    ! updating the variable
   print *,i
end program  var</code></pre>
<p>The statement <code>i=i+1</code> does not make sense in mathematics, but it is updating <code>i</code> with a new value. The symbol <code>=</code> is interpreted as <span class="math inline">\(x \leftarrow v\)</span> which evaluates the right-hand side (<span class="math inline">\(v\)</span>) first, and then, rewrite <span class="math inline">\(x\)</span> with this value. In this case, the program calculates <code>i+1</code>, which is <code>2</code>, and assign this result to <code>i</code>. In the end, this program print two numbers: 1 and 2.</p>
<h4 id="temporary-variable">Temporary variable</h4>
<p>There are two ways to show the result of the computation. One is to save the result to a variable, and the other one is just to show the result.</p>
<pre data-language="Fortran"><code class="language-fortran">program var
   implicit none
   integer :: x,y
   x = 10
   y = x+5
   print *,y    ! case 1: save the result to y and print it
   print *,x+5  ! case 2: show the result without saving it
end program  var</code></pre>
<p>The latter case performs the same as the former case. Precisely, the program implicitly prepares a temporary variable and do assign the result (<code>x+5</code>) to the variable behind the scene. However, you do not have to care about the difference in this case because you should not find any difference in computing time and resource usage. Please use your favorite style in such a simple case.</p>
<h4 id="read-from-the-keyboard">Read from the keyboard</h4>
<p>The program can read a value from the keyboard and assign it to the variable. The following program reads a number from your keyboard and immediately prints it to the screen.</p>
<pre data-language="Fortran"><code class="language-fortran">program var
   implicit none
   integer :: i
   read *,i
   print *,i
end program  var</code></pre>
<p>When running the program, it looks like freezing, but the program is just waiting for your key-in. You can type an integer number and hit the Enter key. The <code>read</code> statement reads the input and converts it to the integer number. The last <code>print</code> statement simply prints the value.</p>
<p>The input should be a valid literal in Fortran. For example, <code>123</code> is valid for an integer variable, and <code>3.14</code> and <code>6.02e23</code> are both valid as real. For a logical variable, <code>T</code> (or <code>t</code>) and <code>F</code> (and <code>f</code>) are valid. For a character variable, any non-space characters should be acceptable. The input may be rounded or truncated so that the variable can handle it. If the input is invalid, the program stops with an error.</p>
<p>It is always good to print a message before the <code>read</code> statement so that a user understands how to do it.</p>
<pre data-language="Fortran"><code class="language-fortran">program var
   implicit none
   integer :: i
   print *,&#39;Input an integer number:&#39;
   read *,i
   print *,i
end program  var</code></pre>
<p>The form of <code>read</code> is similar to <code>print</code>; you can list the variables in the statement. The symbol <code>*</code> means that you do not assume any specific format of the input characters (leaving to the computer). If the input is invalid or nonsense, the program stops with some error messages.</p>
<p>When the <code>read</code> statement has multiple variables, the program keeps reading until all the variables have the values. The multiple values are separated with white spaces or the Enter key. Confirm the behavior by yourself (see the exercises).</p>
<p>As <code>print</code> and <code>write</code>, there is another style of the <code>read</code> statement.</p>
<pre data-language="Fortran"><code class="language-fortran">read(*,*) i</code></pre>
<p>In this style, the statement has a form <code>read(*,*)</code> as <code>write(*,*)</code>, the first asterisk for a unit number (not in <code>read *</code>), and the second for the format (as in <code>read *</code>). This form is used in reading a file. You can use either <code>read *</code> or <code>read(*,*)</code> to read from the keyboard. I will use <code>read *</code> in this tutorial for this purpose.</p>
<h4 id="character-variable">Character variable</h4>
<p>The character variable looks like an array of characters, which will be introduced in the next chapter. Here, I introduce only a few features of character variables, and the details will be introduced in the later chapter.</p>
<p>See the following program.</p>
<pre data-language="Fortran"><code class="language-fortran">program var
   implicit none
   character(len=12) :: name1,name2
   name1 = &quot;John Smith&quot;
   name2 = &quot;Chris McDonald&quot;
   print *,name1,&amp;,name2
end program  var</code></pre>
<pre data-language="output"><code> John Smith  &amp;Chris McDona</code></pre>
<p>The character variable must have a pre-defined length of characters. The program defines two character variables, and each should have only 12 characters. If the input is shorter than the defined length (10 for “John Smith”), the variable will be padded with spaces, i.e. <code>"John Smith  "</code> If the input characters are longer than the size of the variable, the input is truncated to meet the length of variable i.e., “Chris McDona”.</p>
<p>You can access a portion of the characters. The following example extracts from 3th to 7th characters from a variable.</p>
<pre data-language="Fortran"><code class="language-fortran">program var
   implicit none
   character(len=12) :: name1
   name1 = &quot;John Smith&quot;
   print *,name1(3:7)
end program  var</code></pre>
<pre data-language="output"><code> hn Sm</code></pre>
<p>When you extract particular characters, you have to specify the range as <code>(start index:end index)</code> just next to the variable name. When specifying only 1 character, you still specify two indices like <code>(3:3)</code> for the 3rd character. If you write a single index like <code>(3)</code>, the compiler stops with an error. Using this technique, you can replace a portion of the characters.</p>
<pre data-language="Fortran"><code class="language-fortran">program var
   implicit none
   character(len=12) :: name1
   name1 = &quot;John Smith&quot;
   name1(6:10) = &#39;White&#39;
   print *,name1
end program  var</code></pre>
<pre data-language="output"><code> John White</code></pre>
<h4 id="summary">Summary</h4>
<ul>
<li>The statement <code>implicit none</code> makes sure all the variables are declared.</li>
<li>A variable should be declared with a type.</li>
<li>A variable can be used in statements and formulas as the literals.</li>
<li>A value should be assigned to the variable manually.</li>
<li>The variable names should contain alphabets, numbers, and the underscore but start with one of the alphabets. The name is not case-sensitive.</li>
<li>The operator <code>=</code> updates the variable. First, the right-hand side is evaluated, and the result is assigned to the variable.</li>
<li>Using <code>read</code>, a value can be read from the keyboard and assigned to the variable. The input should be valid as a Fortran literal.</li>
<li>A character variable can hold a certain length of characters. A section of characters is available using <code>(start:end)</code>.</li>
</ul>
<h4 id="exercises">Exercises</h4>
<ol type="1">
<li>Read two real numbers from the keyboards and display their addition, subtraction, product, and division. See the behavior when multiple variables are specified in <code>read</code>.</li>
<li>Create a program to read a value in Fahrenheit from the keyboard, convert it to Centigrade, and print the result.</li>
<li>Define two integer variables with some initial values, swap the values, and print the values.</li>
<li>Print a variable before assigning a value to it.</li>
</ol>
<h2 id="some-details-of-variables">Some details of variables</h2>
<h3 id="dangerous-feature-using-variables-without-a-declaration">Dangerous feature: using variables without a declaration</h3>
<p>Technically, you can use the variables without the declaration and <code>implicit none</code>. However, this creates a massive problem in your program. See the following example with three variables.</p>
<pre data-language="Fortran"><code class="language-fortran">program var
   john = 1
   kathy = 2
   george = 3
   print *,john,kathy,george
end program  var</code></pre>
<pre data-language="output"><code>           1           2   3.00000000</code></pre>
<p>The program compiles without any errors, and it works. The variables <code>john</code> and <code>kathy</code> look like integer, but <code>george</code> is a real variable. So, why? It is tough to explain this behavior without knowing details.</p>
<p>Without the declaration of variables, the type of variable is defined based on its name. If the variable name starts with one of <code>i</code>, <code>j</code>, <code>k</code>, <code>l</code>, <code>m</code>, and <code>n</code>, it becomes an integer variable, and otherwise, it becomes a real variable. The variables with the other types (logical and character) are not automatically defined. This feature is one of the negative legacies in FORTRAN 77, which supported the ancient standard established when the variable declaration was not considered crucial. <strong>This feature is extremely confusing, and you must not use it.</strong></p>
<p>The compiler can detect undeclared variables by adding <code>implicit none</code> just before the variable declaration. With this statement, the compiler should stop if it finds the undeclared variables. I strongly recommend that you always use this statement.</p>
<pre data-language="Fortran"><code class="language-fortran">! This program can not compile because of any declarations.
program var
   implicit none
   john = 1
   kathy = 2
   george = 3
   print *,john,kathy,george
end program var</code></pre>
<h3 id="uninitialized-variables">Uninitialized variables</h3>
<p>A variable has no initial value by default. Precisely, it surely has a value when it is created at the declaration statement, but this value is arbitrary. You must not assume the variable automatically has an initial value (like <code>0</code>). You must assign the initial value to the variable.</p>
<pre data-language="Fortran"><code class="language-fortran">program var
   implicit none
   integer :: a
   print *,a
   a = 10
   print *,a
end program var</code></pre>
<pre data-language="output"><code> -1475355915
          10</code></pre>
<p>The first output is from the uninitialized variable, and it is nonsense. This value is unstable; it may change every time you run the program. A friendly compiler has an option to detect uninitialized variables.</p>
<h3 id="not-a-number-and-infinity">Not-a-number and infinity</h3>
<p>The compiler may not detect an invalid value in a particular computation, such as <span class="math inline">\(0/0\)</span>. See the following examples.</p>
<pre data-language="Fortran"><code class="language-fortran">program var
   implicit none
   real :: a
   a = 0.0
   print *,log(a)
   print *,a/a
   print *,1/a
end program var</code></pre>
<pre data-language="output"><code>     -Infinity
           NaN
      Infinity</code></pre>
<p>If the result is not defined (mostly <span class="math inline">\(0/0\)</span>), the variable holds <code>NaN</code>. If the result becomes the infinity, the variable has <code>Infinity</code>. Such a value propagates the following computations if it is involved. The following program shows the same output as above.</p>
<pre data-language="Fortran"><code class="language-fortran">program var
   implicit none
   real :: a,b
   a = 0.0
   b = 1.0
   print *,log(a)+b
   print *,a/a+b
   print *,1/a+b
end program var</code></pre>
<h3 id="variable-initialization">Variable initialization</h3>
<p>You can assign a value to the variable in the declaration statement.</p>
<pre data-language="Fortran"><code class="language-fortran">program var
   implicit none
   real :: a=0.0, b=1.0
   print *,log(a)+b
   print *,a/a+b
   print *,1/a+b
end program var</code></pre>
<h3 id="constants-parameters">Constants (parameters)</h3>
<p>You can create a constant (called <em>parameter</em> in Fortran) in the same manner as a variable. The constant is the same as the variable except that it is never updated or rewritten. It is useful when you need a mathematical constant or a setting commonly referred to by the program. To make the variable constant, use the <code>parameter</code> <em>attribute</em> to the declaration.</p>
<pre data-language="Fortran"><code class="language-fortran">! dp and pi will be altered.
program var
   implicit none
   integer,parameter :: dp = selected_real_kind(15,307)
   real(dp),parameter :: pi=3.1415926
   print *,2*pi
end program var</code></pre>
<p>In this example, the precision of the real variable (<code>dp</code>) is defined as a constant. In this way, you can save key-typing in your program.</p>
<h3 id="exercises-1">Exercises</h3>
<p>No exercises are available in this section.</p>
<p>
Back to <a href="./index.html">index.html</a>.
</p>
</article>
</body>
</html>
