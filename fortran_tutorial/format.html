<!DOCTYPE html>
<!--==============================================================================
	           "GitHub HTML5 Pandoc Template" v1.2 — by Tristano Ajmone
	==============================================================================
	(c) Tristano Ajmone, 2017, MIT License (MIT). Project's home repository:

	- https://github.com/tajmone/pandoc-goodies

	This template reuses source code taken from the following projects:

	- GitHub Markdown CSS: © Sindre Sorhus, MIT License (MIT):
	  https://github.com/sindresorhus/github-markdown-css

	- Primer CSS: © 2016 GitHub Inc., MIT License (MIT):
	  http://primercss.io/
	==============================================================================-->
<html>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Yutaka Masuda" />
  <title>Format</title>
  <style type="text/css">@font-face{font-family:octicons-link;src:url(data:font/woff;charset=utf-8;base64,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) format('woff')}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:16px;line-height:1.5;word-wrap:break-word;box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto;padding:45px}.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body a{background-color:transparent;-webkit-text-decoration-skip:objects;color:#0366d6;text-decoration:none}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body h1{margin:.67em 0}.markdown-body img{border-style:none}.markdown-body svg:not(:root){overflow:hidden}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace}.markdown-body input{font:inherit;margin:0;overflow:visible;font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{box-sizing:content-box;overflow:hidden;background:0 0;border-bottom:1px solid #dfe2e5}.markdown-body hr::before{display:table;content:""}.markdown-body hr::after{display:table;clear:both;content:""}.markdown-body table{border-spacing:0;border-collapse:collapse;display:block;width:100%;overflow:auto}.markdown-body td,.markdown-body th{padding:0}.markdown-body blockquote{margin:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code{font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace}.markdown-body pre{font:12px SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;word-wrap:normal}.markdown-body .pl-0{padding-left:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body::before{display:table;content:""}.markdown-body::after{display:table;clear:both;content:""}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:0}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e1e4e8;border:0}.markdown-body blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd{font-size:11px;box-shadow:inset 0 -1px 0 #959da5}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1{padding-bottom:.3em;font-size:2em;border-bottom:1px solid #eaecef}.markdown-body h2{padding-bottom:.3em;font-size:1.5em;border-bottom:1px solid #eaecef}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#6a737d}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #dfe2e5}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fcfcfc;border:1px solid #c6cbd1;border-bottom-color:#959da5;border-radius:3px;box-shadow:inset 0 -1px 0 #959da5}.markdown-body :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}.markdown-body hr{border-bottom-color:#eee}.flash{position:relative;padding:16px;color:#246;background-color:#e2eef9;border:1px solid #bac6d3;border-radius:3px}.flash p:last-child{margin-bottom:0}.flash-messages{margin-bottom:24px}.flash-warn{color:#4c4a42;background-color:#fff9ea;border-color:#dfd8c2}.flash-error{color:#911;background-color:#fcdede;border-color:#d2b2b2}.flash-success{color:#22662c;background-color:#e2f9e5;border-color:#bad3be}.flash-plain{color:#4c4a42;background-color:#f5f5f5;border-color:#c1c1c1}</style>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">pre[data-language='renumf90']{background-color:#EFEFFE;}</style>
  <style type="text/css">pre[data-language='Fortran']{background-color:#E7FFE7;}</style>
  <style type="text/css">pre[data-language='output']{background-color:#FFFFFF;border:thin solid black;}</style>
  <style type="text/css">pre[data-language='shell']{background-color:#FFFFFF;border:thin dashed;}</style>
  <style type="text/css">pre[data-caption]::before{content:attr(data-caption) "\a\a";font-size:large;font-weight:bold;border-bottom:thin solid black}</style>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="prism.css">
  <script type="text/javascript" src="prism.js"></script>
</head>
</head>
<body>
<article class="markdown-body">
<header>
<h1 class="title">Format</h1>
<p class="author">Yutaka Masuda</p>
<p class="date">January 2020</p>
</header>
<nav id="TOC">
<ul>
<li><a href="#format">Format</a>
<ul>
<li><a href="#edit-descriptors">Edit descriptors</a></li>
<li><a href="#formatted-input">Formatted input</a></li>
</ul></li>
</ul>
</nav>
<p>
Back to <a href="./index.html">index.html</a>.
</p>
<h1 id="format">Format</h1>
<p>We have been used the <em>standard format</em> to print numbers and characters on screen. Sometimes it looks ugly or redundant with many spaces. You can control the output format with an <em>edit descriptor</em>. In this chapter, we will see how to describe the format that you want to have.</p>
<h2 id="edit-descriptors">Edit descriptors</h2>
<h3 id="basic-structure">Basic structure</h3>
<p>The edit descriptor is a string enclosed in parenthesis like <code>(descriptor)</code>. The descriptor is a combination of alphabets/symbols plus numbers like <code>i5</code>. The alphabet (or symbol) represents the type of object, and the number specifies the width of the output. See the following example.</p>
<pre data-language="Fortran"><code class="language-fortran">program form
   print *,123
   print &quot;(i5)&quot;,123
end program form</code></pre>
<pre data-language="output"><code>       123
  123</code></pre>
<p>The first one is the default output, which has many spaces. The second shows an integer number (<code>i</code>) with 5 character width (<code>5</code>), so the descriptor is <code>i5</code>.</p>
<p>If the value does not fit the format, several <code>*</code> will be shown.</p>
<pre data-language="Fortran"><code class="language-fortran">program form
   print *,123
   print &quot;(i2)&quot;,123
end program form</code></pre>
<p>If you have multiple objects to be shown, the edit descriptor has multiple items separated by commas (<code>,</code>). The following example shows 3 integer numbers in a different format.</p>
<pre data-language="Fortran"><code class="language-fortran">program form
   print &quot;(i5,i8,i4)&quot;,123,456,789
end program form</code></pre>
<p>If you want to use the same format for all items, you can unify the descriptor with the number of repeats in front of a single descriptor. If you are not sure how many times you should repeat the format, you can use <code>*()</code> for this purpose (do not forget the parenthesis; <code>*(i5)</code> is valid, but <code>*i5</code> is not).</p>
<pre data-language="Fortran"><code class="language-fortran">program form
   ! all the same format
   print &quot;(i5,i5,i5)&quot;,123,456,789
   print &quot;(3(i5))&quot;,123,456,789
   print &quot;(3i5)&quot;,123,456,789
   print &quot;(2i5,i5)&quot;,123,456,789
   print &quot;(100i5)&quot;,123,456,789
   print &quot;(*(i5))&quot;,123,456,789
end program form</code></pre>
<p>The edit descriptor is an ordinary string so that you can store it in a character variable.</p>
<pre data-language="Fortran"><code class="language-fortran">program form
   implicit none
   character(len=32) :: fmt
   fmt = &quot;(*(i5))&quot;
   print fmt,123,456,789
end program form</code></pre>
<p>An array is a collection of values, and each one of them can be treated as a single value in the output (and input). See the following example.</p>
<pre data-language="Fortran"><code class="language-fortran">program form
   implicit none
   integer :: a(3)
   a = [5,6,7]

   ! all the same output
   print &quot;(3i5)&quot;,5,6,7
   print &quot;(3i5)&quot;,a
   print &quot;(*(i5))&quot;,a
end program form</code></pre>
<h3 id="data-type">Data type</h3>
<h4 id="integer">Integer</h4>
<p>There are several ways to specify the integer output.</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Descriptor style</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>i</code> + a single number (<span class="math inline">\(m\)</span>)</td>
<td><code>i5</code></td>
<td>put the integer number (and the negative sign) with the field width <span class="math inline">\(m\)</span>, aligned to the right-hand side; filled by spaces.</td>
</tr>
<tr class="even">
<td><code>i</code> + 0</td>
<td><code>i0</code></td>
<td>same as above but no alignment and no filler.</td>
</tr>
<tr class="odd">
<td><code>i</code> + two numbers with dot (<span class="math inline">\(m.n\)</span>)</td>
<td><code>i5</code></td>
<td>same as above; filled by <code>0</code> at least <span class="math inline">\(n\)</span> digits instead of spaces</td>
</tr>
</tbody>
</table>
<p>See the following examples.</p>
<pre data-language="Fortran"><code class="language-fortran">program form
   print &quot;(i6)&quot;,123
   print &quot;(i0)&quot;,123
   print &quot;(i6.4)&quot;,123
   print &quot;(i6.6)&quot;,123
end program form</code></pre>
<pre data-language="output"><code>   123
123   
  0123
000123</code></pre>
<h4 id="real">Real</h4>
<p>For real variables, there are 2 categories of output: floating-point format or exponential format.</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Descriptor style</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>f</code> + two numbers with dot (<span class="math inline">\(m.n\)</span>)</td>
<td><code>f8.4</code></td>
<td>put a real number (and the negative sign) with the field width <span class="math inline">\(m\)</span>, at least <span class="math inline">\(n\)</span> digits under the decimal point; aligned to the right-hand side; filled by spaces.</td>
</tr>
<tr class="even">
<td><code>e</code> + two numbers with dot (<span class="math inline">\(m.n\)</span>)</td>
<td><code>e11.3</code></td>
<td>put a real number (and the negative sign) with the entire field-width <span class="math inline">\(m\)</span> and the significand field-width <span class="math inline">\(n\)</span>; aligned to the right-hand side; significand between 0 and 1; filled by spaces.</td>
</tr>
<tr class="odd">
<td><code>es</code> + two numbers with a dot (<span class="math inline">\(m.n\)</span>)</td>
<td><code>e11.3</code></td>
<td>same as above except that the significand is between 1 and 10 (friendly with scientific notation)</td>
</tr>
<tr class="even">
<td><code>g</code> + two numbers with dot (<span class="math inline">\(m.n\)</span>)</td>
<td><code>g11.3</code></td>
<td>choose either <code>f</code> or <code>e</code> automatically (with a slightly different output; see a reference book).</td>
</tr>
</tbody>
</table>
<p>If a given value has more precision than the descriptor, extra digits of the original value will be rounded. See the following examples.</p>
<pre data-language="Fortran"><code class="language-fortran">program form
   print &quot;(f8.3)&quot;,3.1415926
   print &quot;(e11.3)&quot;,3.1415926
   print &quot;(es11.3)&quot;,3.1415926
   print &quot;(g11.3)&quot;,3.1415926
end program form</code></pre>
<pre data-language="output"><code>   3.142   
  0.314E+01
  3.142E+00
   3.14    </code></pre>
<h4 id="logical">Logical</h4>
<p>The format is <code>l</code> + a number for the field width. The output is usually <code>T</code> for true or <code>F</code> for false.</p>
<pre data-language="Fortran"><code class="language-fortran">program form
   implicit none
   integer :: i
   i = 10
   print &quot;(l3)&quot;,i&gt;0
   print &quot;(l3)&quot;,i==5
end program form</code></pre>
<h4 id="characters">Characters</h4>
<p>There are two descriptors available.</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Descriptor style</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>a</code></td>
<td><code>a</code></td>
<td>put characters with the same size as defined; no alignment.</td>
</tr>
<tr class="even">
<td><code>a</code> + a single number <span class="math inline">\(m\)</span></td>
<td><code>a10</code></td>
<td>put characters with the field width <span class="math inline">\(m\)</span>; discarding extra characters not fitting to the format; aligned to the right-hand side; filled by spaces.</td>
</tr>
</tbody>
</table>
<p>See the example.</p>
<pre data-language="Fortran"><code class="language-fortran">program form
   print &quot;(a)&quot;,  &quot;Yes, it is.&quot;
   print &quot;(a20)&quot;,&quot;Yes, it is.&quot;
end program form</code></pre>
<pre data-language="output"><code>Yes, it is.         
         Yes, it is.</code></pre>
<h3 id="other-useful-descriptors">Other useful descriptors</h3>
<p>The Fortran standard defines many descriptors, but some of them can very precisely control the output. Here, we only look at the most frequently-used descriptors.</p>
<h4 id="spaces-tabs">Spaces (tabs)</h4>
<p>The <code>x</code> descriptor shows a space. When putting multiple spaces, combine a number with it, e.g., <code>5x</code> for 5 spaces.</p>
<pre data-language="Fortran"><code class="language-fortran">program form
   print &quot;(a,3x,a)&quot;,&quot;abc&quot;,&quot;def&quot;
end program form</code></pre>
<h4 id="new-line">New line</h4>
<p>The <code>/</code> descriptor makes a new line.</p>
<pre data-language="Fortran"><code class="language-fortran">program form
   print &quot;(a,/,a)&quot;,&quot;abc&quot;,&quot;def&quot;
end program form</code></pre>
<h2 id="formatted-input">Formatted input</h2>
<p>We have seen a <em>formatted output</em> with <code>print</code>. In turn, we can use the <em>formatted input</em> with <code>read</code>. I have a concern in the formatted input; it may result in trouble because of the input sequence may not follow the rule in the descriptor. Although the language standard defines what happens when the input is not appropriate, it might be hard for us to figure out what is going on when it is happening.</p>
<h3 id="formatted-read">Formatted read</h3>
<p>It is always good to see how it works using a small program.</p>
<pre data-language="Fortran"><code class="language-fortran">program form
   implicit none
   integer :: i
   read &quot;(i10)&quot;,i
   print *,i
end program form</code></pre>
<p>The following is a pair of an input and the corresponding output (with GFortran).</p>
<pre data-language="output"><code># put &quot;1&quot;
           1

# put &quot;         1&quot;
           1

# put &quot;          1&quot;
           0

# put &quot;1 2 3&quot;
         123

# put &quot;a&quot;
At line 4 of file form.f90 (unit = 5, file = &#39;stdin&#39;) 
Fortran runtime error: Bad value during integer read
...</code></pre>
<p>You may see some rules in it, but the rule is very confusing, particularly in <code>1 2 3</code>.</p>
<p>In my opinion, the formatted input should be used when 1) it is the only way to do or 2) the input is expected to be correct with the edit descriptor. Otherwise, the default input <code>*</code> should be easier to handle. Here we will see some examples of how the formatted input works.</p>
<h3 id="formatted-characters">Formatted characters</h3>
<p>There are a few cases where the formatted input is useful. One such situation is in reading characters with spaces. Using the edit descriptor <code>a</code>, you can obtain the characters with spaces.</p>
<pre data-language="Fortran"><code class="language-fortran">program form
   implicit none
   character(len=10) :: a
   read &quot;(a)&quot;,a
   print *,a
end program form</code></pre>
<h3 id="fixed-format">Fixed format</h3>
<p>The other case is in reading a fixed-format file. If a text file contains some fields and each field is aligned to a particular column, this file is called <em>fixed format</em>. For example, an SNP file with 0-1-2 coding is a fixed-format file.</p>
<pre data-language="text"><code>id01    012012012
id02    211102111
id03    012001101</code></pre>
<p>The second field (genotypes) strictly starts from the 9th column. This small file can be seen as a space-separated file, but the fixed-format file should have a constant format for all the rows. We will see how we can read a file in later chapters. We try to read such a structure using formatted input.</p>
<p>We assume that an individual has 9 genotypes, which are integer numbers. Ignoring the first field and leading spaces, the edit descriptor for the second field is <code>(8x,9i1)</code>. The program looks like this.</p>
<pre data-language="Fortran"><code class="language-fortran">program form
   implicit none
   integer :: g(9)
   read &quot;(8x,9i1)&quot;,g
   print *,g
end program form</code></pre>
<p>
Back to <a href="./index.html">index.html</a>.
</p>
</article>
</body>
</html>
